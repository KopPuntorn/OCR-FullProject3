{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kopro\\\\Desktop\\\\OCR-FullProject3\\\\client\\\\src\\\\pages\\\\user\\\\UserSide.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport CardPost from '../../components/UserComponent/Card/CardPost';\nimport Cards from '../../components/UserComponent/Card/Cards';\nimport './userside.css';\nimport SearchBox from '../../components/UserComponent/SearchBox/SearchBox';\nimport ReactPaginate from 'react-paginate';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { registerLocale, setDefaultLocale } from \"react-datepicker\";\nimport th from 'date-fns/locale/th';\nimport { BlockOutlined, UnorderedListOutlined, FilePdfTwoTone } from '@ant-design/icons';\nimport { getPerson } from '../../functions/person';\nimport { toast } from 'react-toastify';\nimport { ConfigProvider, DatePicker, Table, Avatar, Image, Switch, Button, Tooltip } from 'antd';\nimport { AiOutlineVerticalAlignBottom } from \"react-icons/ai\";\nimport DownloadLink from \"react-download-link\";\nimport locale from 'antd/lib/locale/th_TH';\nimport IconButton from '@mui/material/IconButton';\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserSide() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [searchText, setSearchText] = useState('');\n  const [searchNo, setSearchNo] = useState('');\n  const [person, setPerson] = useState([]);\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [game, setGame] = useState('card');\n  const {\n    Column,\n    ColumnGroup\n  } = Table;\n  const {\n    RangePicker\n  } = DatePicker;\n  const [hackValue, setHackValue] = useState();\n  const [dates, setDates] = useState([]);\n  const [value, onChange] = useState([new Date(), new Date()]);\n  let reald = value[0].toString();\n  let reald1 = value[1].toString();\n\n  const onOpenChange = open => {\n    if (open) {\n      setHackValue([]);\n      setDates([]);\n    } else {\n      setHackValue(undefined);\n    }\n  };\n\n  const disabledDate = current => {\n    if (!dates || dates.length === 0) {\n      return false;\n    }\n\n    const tooLate = dates[0] && current.diff(dates[0], 'days') > 7;\n    const tooEarly = dates[1] && dates[1].diff(current, 'days') > 7;\n    return tooEarly || tooLate;\n  };\n\n  useEffect(() => {\n    loadPerson(user.token);\n  }, []);\n\n  const loadPerson = authtoken => {\n    getPerson(authtoken).then(res => {\n      setPerson(res.data);\n      console.log(res.data);\n    }).catch(err => {\n      toast.error(err);\n      console.log(err);\n    });\n  };\n\n  registerLocale('th', th);\n\n  function checkdate() {\n    console.log(reald);\n  }\n\n  function onCardOpenClick(theCard) {\n    setSelectedCard(theCard);\n  }\n\n  function onCardCloseClick() {\n    setSelectedCard(null);\n  }\n\n  const filteredCards = person.filter(person => person.name.includes(searchText)).filter(person => person.locate.includes(searchNo)).filter(person => person.dateGen >= reald && person.dateGen <= reald1);\n  const filteredData = person.filter(CardData => CardData.name.includes(searchText)).filter(CardData => CardData.locate.includes(searchNo));\n  const cardElements = filteredCards.map((CardData, index) => {\n    return /*#__PURE__*/_jsxDEV(Cards, {\n      CardData: CardData,\n      onCardClick: onCardOpenClick\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 14\n    }, this);\n  });\n\n  function Items(_ref) {\n    let {\n      currentItems\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: currentItems && currentItems.map(cardElements => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: cardElements\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this))\n    }, void 0, false);\n  }\n\n  function PaginatedItems(_ref2) {\n    _s();\n\n    let {\n      itemsPerPage\n    } = _ref2;\n    // We start with an empty list of items.\n    const [currentItems, setCurrentItems] = useState(null);\n    const [pageCount, setPageCount] = useState(0); // Here we use item offsets; we could also use page offsets\n    // following the API or data you're working with.\n\n    const [itemOffset, setItemOffset] = useState(0);\n    useEffect(() => {\n      // Fetch items from another resources.\n      const endOffset = itemOffset + itemsPerPage;\n      console.log(`Loading items from ${itemOffset} to ${endOffset}`);\n      setCurrentItems(cardElements.slice(itemOffset, endOffset));\n      setPageCount(Math.ceil(cardElements.length / itemsPerPage));\n    }, [itemOffset, itemsPerPage]); // Invoke when user click to request another page.\n\n    const handlePageClick = event => {\n      const newOffset = event.selected * itemsPerPage % cardElements.length;\n      console.log(`User requested page number ${event.selected}, which is offset ${newOffset}`);\n      setItemOffset(newOffset);\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-grid\",\n        children: [/*#__PURE__*/_jsxDEV(Items, {\n          currentItems: currentItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n          breakLabel: \"...\",\n          nextLabel: \">\",\n          onPageChange: handlePageClick,\n          pageCount: pageCount,\n          previousLabel: \"<\",\n          renderOnZeroPageCount: null,\n          containerClassName: \"paginationBttns\",\n          previousClassName: \"previousBttn\",\n          nextLinkClassName: \"nextBttn\",\n          disabledClassName: \"paginationDisabled\",\n          activeClassName: \"paginationActive\",\n          pageRangeDisplayed: 2,\n          marginPagesDisplayed: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n  _s(PaginatedItems, \"HTeX8cSP+G2jiDQZoJcFFLxPhRM=\");\n\n  let cardPost = null;\n\n  if (!!selectedCard) {\n    cardPost = /*#__PURE__*/_jsxDEV(CardPost, {\n      CardData: selectedCard,\n      onBgClick: onCardCloseClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 16\n    }, this);\n  }\n\n  const handleClick = gameState => {\n    setGame(gameState);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"HeadSearch1\",\n      children: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searh\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search2\",\n        children: [\"\\u0E43\\u0E2A\\u0E48\\u0E04\\u0E33\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\", /*#__PURE__*/_jsxDEV(SearchBox, {\n          value: searchText,\n          onValueChange: setSearchText,\n          placeholder: \"\\u0E04\\u0E33\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search3\",\n        children: [\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\", /*#__PURE__*/_jsxDEV(SearchBox, {\n          value: searchNo,\n          onValueChange: setSearchNo,\n          placeholder: \"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search4\",\n        children: [\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"butons\", {\n          onClick: checkdate,\n          children: \"sdsad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chblog\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"delete\",\n          onClick: () => handleClick('card'),\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(BlockOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"delete\",\n          onClick: () => handleClick('playing'),\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(UnorderedListOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), (() => {\n      switch (game) {\n        case 'card':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(PaginatedItems, {\n              itemsPerPage: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 25\n            }, this), cardPost]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 20\n          }, this);\n\n        case 'playing':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chblog-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              dataSource: filteredData,\n              rowKey: \"_id\",\n              className: \"search-table\",\n              defaultPageSize: \"2\",\n              children: [/*#__PURE__*/_jsxDEV(Column, {\n                render: record => /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `http://localhost:5000/uploads/${record.pic}`,\n                    target: \"_blank\",\n                    children: /*#__PURE__*/_jsxDEV(FilePdfTwoTone, {\n                      twoToneColor: \"#ff0000\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Column, {\n                title: \"\\u0E40\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\",\n                dataIndex: \"name\",\n                width: 900\n              }, \"name\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Column, {\n                render: record => /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `http://localhost:5000/uploads/${record.pic}`,\n                    target: \"_blank\",\n                    children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Column, {\n                render: record => /*#__PURE__*/_jsxDEV(DownloadLink, {\n                  className: \"button-field-download\",\n                  filename: record.pic,\n                  label: \"Download\",\n                  children: [/*#__PURE__*/_jsxDEV(AiOutlineVerticalAlignBottom, {\n                    className: \"button-icon-download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"button-text-download\",\n                    children: \"\\u0E14\\u0E32\\u0E27\\u0E19\\u0E4C\\u0E42\\u0E2B\\u0E25\\u0E14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 20\n          }, this);\n\n        default:\n          return null;\n      }\n    })()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(UserSide, \"PxDtwRQnFaLQWr7843MxjT2UDyw=\", false, function () {\n  return [useSelector];\n});\n\n_c = UserSide;\nexport default UserSide;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSide\");","map":{"version":3,"sources":["C:/Users/kopro/Desktop/OCR-FullProject3/client/src/pages/user/UserSide.js"],"names":["React","useEffect","useState","useSelector","CardPost","Cards","SearchBox","ReactPaginate","registerLocale","setDefaultLocale","th","BlockOutlined","UnorderedListOutlined","FilePdfTwoTone","getPerson","toast","ConfigProvider","DatePicker","Table","Avatar","Image","Switch","Button","Tooltip","AiOutlineVerticalAlignBottom","DownloadLink","locale","IconButton","DateRangePicker","UserSide","selectedCard","setSelectedCard","searchText","setSearchText","searchNo","setSearchNo","person","setPerson","user","state","game","setGame","Column","ColumnGroup","RangePicker","hackValue","setHackValue","dates","setDates","value","onChange","Date","reald","toString","reald1","onOpenChange","open","undefined","disabledDate","current","length","tooLate","diff","tooEarly","loadPerson","token","authtoken","then","res","data","console","log","catch","err","error","checkdate","onCardOpenClick","theCard","onCardCloseClick","filteredCards","filter","name","includes","locate","dateGen","filteredData","CardData","cardElements","map","index","Items","currentItems","PaginatedItems","itemsPerPage","setCurrentItems","pageCount","setPageCount","itemOffset","setItemOffset","endOffset","slice","Math","ceil","handlePageClick","event","newOffset","selected","cardPost","handleClick","gameState","record","pic"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport CardPost from '../../components/UserComponent/Card/CardPost';\r\nimport Cards from '../../components/UserComponent/Card/Cards';\r\nimport './userside.css';\r\nimport SearchBox from '../../components/UserComponent/SearchBox/SearchBox';\r\nimport ReactPaginate from 'react-paginate';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { registerLocale, setDefaultLocale } from  \"react-datepicker\";\r\nimport th from 'date-fns/locale/th';\r\nimport { BlockOutlined, UnorderedListOutlined, FilePdfTwoTone } from '@ant-design/icons';\r\nimport { getPerson } from '../../functions/person';\r\nimport { toast } from 'react-toastify';\r\nimport { ConfigProvider, DatePicker , Table, Avatar, Image, Switch,Button, Tooltip } from 'antd';\r\nimport { AiOutlineVerticalAlignBottom} from \"react-icons/ai\";\r\nimport DownloadLink from \"react-download-link\";\r\nimport locale from 'antd/lib/locale/th_TH';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker';\r\n\r\n\r\n\r\n\r\n\r\nfunction UserSide() {\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchNo, setSearchNo] = useState('');\r\n  const [person, setPerson] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n  const [game, setGame] = useState('card')\r\n  const { Column, ColumnGroup } = Table;\r\n  const { RangePicker } = DatePicker;\r\n  const [hackValue, setHackValue] = useState();\r\n  const [dates, setDates] = useState([]);\r\n  const [value, onChange] = useState([new Date(), new Date()]);\r\n\r\n  let reald = value[0].toString();\r\n  let reald1 = value[1].toString();\r\n\r\n  const onOpenChange = open => {\r\n    if (open) {\r\n      setHackValue([]);\r\n      setDates([]);\r\n    } else {\r\n      setHackValue(undefined);\r\n    }\r\n  };\r\n  const disabledDate = current => {\r\n    if (!dates || dates.length === 0) {\r\n      return false;\r\n    }\r\n    const tooLate = dates[0] && current.diff(dates[0], 'days') > 7;\r\n    const tooEarly = dates[1] && dates[1].diff(current, 'days') > 7;\r\n    return tooEarly || tooLate;\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadPerson(user.token);\r\n  }, [])\r\n\r\n  const loadPerson = (authtoken) => {\r\n    getPerson(authtoken)\r\n        .then((res) => {\r\n            setPerson(res.data)\r\n            console.log(res.data)\r\n        }).catch((err) => {\r\n            toast.error(err)\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nregisterLocale('th', th)\r\n\r\nfunction checkdate(){\r\n  console.log(reald);\r\n}\r\n\r\n  function onCardOpenClick(theCard){\r\n    setSelectedCard(theCard);\r\n  }\r\n\r\n  function onCardCloseClick(){\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  const filteredCards = person.filter((person) => person.name.includes(searchText)).filter((person) => person.locate.includes(searchNo)).filter((person) => (person.dateGen >= reald && person.dateGen <= reald1))\r\n  const filteredData = person.filter((CardData) => CardData.name.includes(searchText)).filter((CardData) => CardData.locate.includes(searchNo))\r\n\r\n  const cardElements = filteredCards.map((CardData, index) => {\r\n      return <Cards key={index} CardData={CardData} onCardClick={onCardOpenClick}/>;\r\n  });\r\n\r\n  function Items({ currentItems }) {\r\n    return (\r\n      <>\r\n        {currentItems &&\r\n          currentItems.map((cardElements) => (\r\n            <div>\r\n              {cardElements}\r\n            </div>\r\n          ))}\r\n      </>\r\n    );\r\n  }\r\n\r\n  function PaginatedItems({ itemsPerPage }) {\r\n    // We start with an empty list of items.\r\n    const [currentItems, setCurrentItems] = useState(null);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    // Here we use item offsets; we could also use page offsets\r\n    // following the API or data you're working with.\r\n    const [itemOffset, setItemOffset] = useState(0);\r\n  \r\n    useEffect(() => {\r\n \r\n  \r\n      // Fetch items from another resources.\r\n      const endOffset = itemOffset + itemsPerPage;\r\n      console.log(`Loading items from ${itemOffset} to ${endOffset}`);\r\n      setCurrentItems(cardElements.slice(itemOffset, endOffset));\r\n      setPageCount(Math.ceil(cardElements.length / itemsPerPage));\r\n    }, [itemOffset, itemsPerPage]);\r\n  \r\n    // Invoke when user click to request another page.\r\n    const handlePageClick = (event) => {\r\n      const newOffset = (event.selected * itemsPerPage) % cardElements.length;\r\n      console.log(\r\n        `User requested page number ${event.selected}, which is offset ${newOffset}`\r\n      );\r\n      setItemOffset(newOffset);\r\n    };\r\n\r\n  \r\n    return (\r\n      <><div className=\"app-grid\">\r\n        <Items currentItems={currentItems} />\r\n        <ReactPaginate\r\n          breakLabel=\"...\"\r\n          nextLabel=\">\"\r\n          onPageChange={handlePageClick}\r\n          pageCount={pageCount}\r\n          previousLabel=\"<\"\r\n          renderOnZeroPageCount={null}\r\n          containerClassName={\"paginationBttns\"}\r\n          previousClassName={\"previousBttn\"}\r\n          nextLinkClassName={\"nextBttn\"}\r\n          disabledClassName={\"paginationDisabled\"}\r\n          activeClassName={\"paginationActive\"}\r\n          pageRangeDisplayed={2}\r\n          marginPagesDisplayed={2}\r\n        />\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n  let cardPost = null;\r\n  if(!!selectedCard){\r\n    cardPost = <CardPost CardData={selectedCard} onBgClick={onCardCloseClick}/>\r\n  }\r\n  const handleClick = (gameState) => {\r\n    setGame(gameState)\r\n  }\r\n\r\n  return (\r\n    <div ><div className='HeadSearch1'>ค้นหา</div>\r\n      <div className=\"searh\">\r\n        <div className=\"search2\">ใส่คำค้นหา<SearchBox value={searchText} onValueChange={setSearchText} placeholder=\"คำค้นหา\"/></div>\r\n        <div className=\"search3\">เลขที่หนังสือ<SearchBox value={searchNo} onValueChange={setSearchNo} placeholder=\"เลขที่หนังสือ\"/></div>\r\n        <div className=\"search4\">วันที่ <input type=\"date\"></input><butons onClick={checkdate}>sdsad</butons></div>\r\n        <div className=\"chblog\">\r\n        <IconButton aria-label=\"delete\" onClick={ () => handleClick('card')} color=\"primary\"> \r\n        <BlockOutlined />\r\n      </IconButton>\r\n      <IconButton aria-label=\"delete\" onClick={ () => handleClick('playing')} color=\"primary\"> \r\n        <UnorderedListOutlined />\r\n      </IconButton>\r\n        </div>\r\n      </div> \r\n      {(() => {\r\n        switch (game) {\r\n          case 'card':\r\n            return <div><PaginatedItems itemsPerPage={12} />{cardPost}</div>\r\n          case 'playing':\r\n            return <div className=\"chblog-table\"><div></div><Table dataSource={filteredData} rowKey=\"_id\" className=\"search-table\" defaultPageSize= \"2\">\r\n                <Column render={ (record) => (\r\n                <>\r\n                    <a href={`http://localhost:5000/uploads/${record.pic}`} target=\"_blank\" >\r\n                    <FilePdfTwoTone twoToneColor=\"#ff0000\"/>\r\n                    </a>\r\n                </>\r\n            )}></Column>\r\n                <Column title=\"เรื่อง\" dataIndex=\"name\" key=\"name\" width={900}></Column>\r\n                \r\n                <Column render={ (record) => (\r\n                <>\r\n                    <a href={`http://localhost:5000/uploads/${record.pic}`} target=\"_blank\" >\r\n                    รายละเอียด\r\n                    </a>\r\n                </>\r\n            )}></Column>\r\n            <Column render={(record) => (\r\n                      <DownloadLink className=\"button-field-download\"  filename={record.pic} label=\"Download\" >        \r\n                          <AiOutlineVerticalAlignBottom className=\"button-icon-download\"/>          \r\n                          <div className=\"button-text-download\">\r\n                          ดาวน์โหลด</div>\r\n                      </DownloadLink>\r\n                  )}></Column>\r\n              \r\n              </Table></div>\r\n          default:\r\n            return null\r\n        }\r\n\r\n      })()}\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default UserSide\r\n"]},"metadata":{},"sourceType":"module"}